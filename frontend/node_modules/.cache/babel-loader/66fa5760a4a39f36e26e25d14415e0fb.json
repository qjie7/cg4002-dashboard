{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/qianjie/Desktop/cg4002-dashboard/frontend/src/pages/Playground.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport io from 'socket.io-client';\nimport styled from 'styled-components';\nimport { Modal } from '../components/Modal/Modal';\nimport FormDialog from '../components/FormDialog/FormDialog';\nimport DancerCard from '../components/DancerCard/DancerCard';\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    margin: theme.spacing(1),\n    paddingRight: 33\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  },\n  heading: {\n    fontSize: '4.5em',\n    letterSpacing: '-1px',\n    backgroundColor: '#503e9d',\n    top: '0px',\n    color: 'white'\n  }\n}));\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 50px;\n  bottom: 50px;\n`;\n_c = Container;\nconst socket = io('http://localhost:3000', {\n  transports: ['websocket', 'polling']\n});\n\nfunction Playground() {\n  _s();\n\n  const classes = useStyles();\n  const [danceMove, setDanceMove] = useState('Nothing');\n  const [danceMove2, setDanceMove2] = useState('Nothing');\n  const [danceMove3, setDanceMove3] = useState('Nothing');\n  const [finalDanceMove, setFinalDanceMove] = useState('nothing');\n  const [finalPosition, setFinalPosition] = useState('1 2 3');\n  const [accuracy, setAccuracy] = useState(0);\n  const [accuracy2, setAccuracy2] = useState(0);\n  const [accuracy3, setAccuracy3] = useState(0);\n  const [overallAccuracy, setOverallAccuracy] = useState(0);\n  const [posAccuracy, setPosAccuracy] = useState(0);\n  const [finalSync, setFinalSync] = useState('0');\n  const [syncAvg, setSyncAvg] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n\n  const openModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  const [connection, setConnection] = useState(false);\n\n  const handleConnection = () => {\n    if (connection) {\n      const syncSum = syncListFloat.reduce((a, b) => a + b, 0);\n      const syncAvg = syncSum / syncList.length || 0;\n      setSyncAvg(syncAvg);\n    }\n\n    connection ? setConnection(false) : setConnection(true);\n    connection ? setShowModal(true) : setShowModal(false);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [open2, setOpen2] = React.useState(false);\n\n  const handleClickOpen2 = () => {\n    setOpen2(true);\n  };\n\n  const handleClose2 = () => {\n    setOpen2(false);\n  };\n\n  const [open3, setOpen3] = React.useState(false);\n\n  const handleClickOpen3 = () => {\n    setOpen3(true);\n  };\n\n  const handleClose3 = () => {\n    setOpen3(false);\n  };\n\n  function handleLeaderNameChange(e) {\n    console.log(e.target.value);\n    localStorage.setItem('leaderName', e.target.value);\n  }\n\n  function handleMember1NameChange(e) {\n    console.log(e.target.value);\n    localStorage.setItem('member1Name', e.target.value);\n  }\n\n  function handleMember2NameChange(e) {\n    console.log(e.target.value);\n    localStorage.setItem('member2Name', e.target.value);\n  }\n\n  const [groupName, setGroupName] = useState('Group Name');\n  const [leaderName, setLeaderName] = useState('Leader Name');\n  const [member1Name, setMember1Name] = useState('Member 1 Name');\n  const [member2Name, setMember2Name] = useState('Member 2 Name');\n  useEffect(() => {\n    setGroupName(localStorage.getItem('groupName'));\n    setLeaderName(localStorage.getItem('leaderName'));\n    setMember1Name(localStorage.getItem('member1Name'));\n    setMember2Name(localStorage.getItem('member2Name'));\n  });\n  const [score, setScore] = useState(0);\n  const [maxScore, setMaxScore] = useState(0);\n  const [score2, setScore2] = useState(0);\n  const [maxScore2, setMaxScore2] = useState(0);\n  const [score3, setScore3] = useState(0);\n  const [maxScore3, setMaxScore3] = useState(0);\n  const [scorePos, setScorePos] = useState(0);\n  const [maxScorePos, setMaxScorePos] = useState(0);\n  const [correctness, setCorrectness] = useState(false);\n  const [syncList, setSyncList] = useState([]);\n  useEffect(() => {\n    if (connection) {\n      setAccuracy(0);\n      setScore(0);\n      setScore2(0);\n      setScore3(0);\n      setScorePos(0);\n      setMaxScore(0);\n      setMaxScore2(0);\n      setMaxScore3(0);\n      setMaxScorePos(0);\n      socket.on('new_data', newData => {\n        setDanceMove(newData.danceMove);\n      });\n      socket.on('new_data2', newData => {\n        setDanceMove2(newData.danceMove);\n      });\n      socket.on('new_data3', newData => {\n        setDanceMove3(newData.danceMove);\n      });\n      socket.on('new_data4', newData => {\n        setFinalDanceMove(newData.finalDanceMove);\n        setFinalPosition(newData.finalPosition);\n        setFinalSync(newData.finalSync);\n        setSyncList(oldList => [...oldList, newData.finalSync]);\n      });\n    } else {\n      socket.off('new_data');\n      socket.off('new_data2');\n      socket.off('new_data3');\n      socket.off('new_data4');\n    }\n  }, [connection]); // useEffect(() => {\n  //   if (\n  //     // position1 === testLog.position1 &&\n  //     // position2 === testLog.position2 &&\n  //     // position3 === testLog.position3 &&\n  //     finalDanceMove === testLog.danceMove\n  //   ) {\n  //     setCorrectness(true)\n  //     if (score < 10) {\n  //       setScore((prevScore) => prevScore + 1)\n  //     }\n  //     console.log(score)\n  //   } else {\n  //     setCorrectness(false)\n  //   }\n  // }, [finalDanceMove])\n\n  useEffect(() => {\n    const handleKey = event => {\n      if (event.keyCode === 81 && connection) {\n        setCorrectness(true);\n        setScore(prevScore => prevScore + 1);\n        setMaxScore(prevScore => prevScore + 1);\n      } else if (event.keyCode === 87 && connection) {\n        setCorrectness(true);\n        setScore2(prevScore => prevScore + 1);\n        setMaxScore2(prevScore => prevScore + 1);\n      } else if (event.keyCode === 69 && connection) {\n        setCorrectness(true);\n        setScore3(prevScore => prevScore + 1);\n        setMaxScore3(prevScore => prevScore + 1);\n      } else if (event.keyCode === 82 && connection) {\n        setCorrectness(true);\n        setScorePos(prevScore => prevScore + 1);\n        setMaxScorePos(prevScore => prevScore + 1);\n      } else if (event.keyCode === 65 && connection) {\n        setCorrectness(false);\n        setMaxScore(prevScore => prevScore + 1);\n      } else if (event.keyCode === 83 && connection) {\n        setCorrectness(false);\n        setMaxScore2(prevScore => prevScore + 1);\n      } else if (event.keyCode === 68 && connection) {\n        setCorrectness(false);\n        setMaxScore3(prevScore => prevScore + 1);\n      } else if (event.keyCode === 70 && connection) {\n        setCorrectness(false);\n        setMaxScorePos(prevScore => prevScore + 1);\n      } // if (event.keyCode === 16 && connection) {\n      //   setCorrectness(true)\n      //   setScore((prevScore) => prevScore + 1)\n      //   setMaxScore((prevScore) => prevScore + 1)\n      // } else if (event.keyCode === 88 && connection) {\n      //   setCorrectness(false)\n      //   setMaxScore((prevScore) => prevScore + 1)\n      // }\n\n    };\n\n    window.addEventListener('keydown', handleKey);\n    return () => {\n      window.removeEventListener('keydown', handleKey);\n    };\n  });\n  useEffect(() => {\n    setAccuracy(maxScore === 0 ? 0 : score * 100 / maxScore);\n    setAccuracy2(maxScore2 === 0 ? 0 : score2 * 100 / maxScore2);\n    setAccuracy3(maxScore3 === 0 ? 0 : score3 * 100 / maxScore3);\n    setOverallAccuracy((accuracy + accuracy2 + accuracy3) / 3);\n    setPosAccuracy(maxScorePos === 0 ? 0 : scorePos * 100 / maxScorePos);\n  });\n  let syncListFloat = syncList.map(function (x) {\n    return parseFloat(x, 10);\n  });\n  console.log(syncAvg);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormDialog, {\n      handleClickOpen: handleClickOpen,\n      handleClose: handleClose,\n      open: open,\n      setOpen: setOpen,\n      handleNameChange: handleMember1NameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormDialog, {\n      handleClickOpen: handleClickOpen2,\n      handleClose: handleClose2,\n      open: open2,\n      setOpen: setOpen2,\n      handleNameChange: handleLeaderNameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormDialog, {\n      handleClickOpen: handleClickOpen3,\n      handleClose: handleClose3,\n      open: open3,\n      setOpen: setOpen3,\n      handleNameChange: handleMember2NameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"center\",\n      style: {\n        marginTop: '-10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          align: \"center\",\n          className: classes.heading,\n          children: groupName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"center\",\n      \"data-flip-root-id\": \"flip-root\",\n      children: [finalPosition === '1 2 3' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: leaderName,\n            position: finalPosition.substring(0, 1),\n            userImage: \"NRfYKuSKs_o\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove,\n            role: \"Leader\",\n            handleClickOpen: handleClickOpen2,\n            accuracy: accuracy.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member1Name,\n            position: finalPosition.substring(2, 3),\n            userImage: \"OqQi3nCt4CA\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove2,\n            handleClickOpen: handleClickOpen,\n            accuracy: accuracy2.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member2Name,\n            position: finalPosition.substring(4),\n            userImage: \"SFJz9q9EAZc\" // danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove3,\n            role: \"Member 2\",\n            handleClickOpen: handleClickOpen3,\n            accuracy: accuracy3.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalPosition === '1 3 2' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: leaderName,\n            position: finalPosition.substring(0, 1),\n            userImage: \"NRfYKuSKs_o\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove,\n            role: \"Leader\",\n            handleClickOpen: handleClickOpen2,\n            accuracy: accuracy.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member2Name,\n            position: finalPosition.substring(4),\n            userImage: \"SFJz9q9EAZc\" // danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove3,\n            role: \"Member 2\",\n            handleClickOpen: handleClickOpen3,\n            accuracy: accuracy3.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member1Name,\n            position: finalPosition.substring(2, 3),\n            userImage: \"OqQi3nCt4CA\" // danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove2,\n            handleClickOpen: handleClickOpen,\n            accuracy: accuracy2.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalPosition === '2 1 3' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member1Name,\n            position: finalPosition.substring(2, 3),\n            userImage: \"OqQi3nCt4CA\" // danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove2,\n            handleClickOpen: handleClickOpen,\n            accuracy: accuracy2.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: leaderName,\n            position: finalPosition.substring(0, 1),\n            userImage: \"NRfYKuSKs_o\" // danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove,\n            role: \"Leader\",\n            handleClickOpen: handleClickOpen2,\n            accuracy: accuracy.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member2Name,\n            position: finalPosition.substring(4),\n            userImage: \"SFJz9q9EAZc\" // danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove3,\n            role: \"Member 2\",\n            handleClickOpen: handleClickOpen3,\n            accuracy: accuracy3.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalPosition === '2 3 1' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member1Name,\n            position: finalPosition.substring(2, 3),\n            userImage: \"OqQi3nCt4CA\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove2,\n            handleClickOpen: handleClickOpen,\n            accuracy: accuracy2.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member2Name,\n            position: finalPosition.substring(4),\n            userImage: \"SFJz9q9EAZc\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove3,\n            role: \"Member 2\",\n            handleClickOpen: handleClickOpen3,\n            accuracy: accuracy3.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: leaderName,\n            position: finalPosition.substring(0, 1),\n            userImage: \"NRfYKuSKs_o\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove,\n            role: \"Leader\",\n            handleClickOpen: handleClickOpen2,\n            accuracy: accuracy.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalPosition === '3 1 2' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member2Name,\n            position: finalPosition.substring(4),\n            userImage: \"SFJz9q9EAZc\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove3,\n            role: \"Member 2\",\n            handleClickOpen: handleClickOpen3,\n            accuracy: accuracy3.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: leaderName,\n            position: finalPosition.substring(0, 1),\n            userImage: \"NRfYKuSKs_o\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove,\n            role: \"Leader\",\n            handleClickOpen: handleClickOpen2,\n            accuracy: accuracy.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member1Name,\n            position: finalPosition.substring(2, 3),\n            userImage: \"OqQi3nCt4CA\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove2,\n            handleClickOpen: handleClickOpen,\n            accuracy: accuracy2.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalPosition === '3 2 1' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member2Name,\n            position: finalPosition.substring(4),\n            userImage: \"SFJz9q9EAZc\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove3,\n            role: \"Member 2\",\n            handleClickOpen: handleClickOpen3,\n            accuracy: accuracy3.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: member1Name,\n            position: finalPosition.substring(2, 3),\n            userImage: \"OqQi3nCt4CA\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove2,\n            handleClickOpen: handleClickOpen,\n            accuracy: accuracy2.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          \"data-flip-id\": \"flipped\",\n          children: /*#__PURE__*/_jsxDEV(DancerCard, {\n            name: leaderName,\n            position: finalPosition.substring(0, 1),\n            userImage: \"NRfYKuSKs_o\" //danceMove={finalDanceMove}\n            ,\n            danceMove: danceMove,\n            role: \"Leader\",\n            handleClickOpen: handleClickOpen2,\n            accuracy: accuracy.toFixed(1),\n            sync: finalSync\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          onClick: handleConnection,\n          className: classes.margin,\n          children: connection ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"END\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"START\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Modal, {\n            showModal: showModal,\n            setShowModal: setShowModal,\n            score: score,\n            setScore: setScore,\n            maxScore: maxScore,\n            setMaxScore: setMaxScore,\n            accuracy: overallAccuracy,\n            setSyncList: setSyncList,\n            syncList: syncList,\n            syncAvg: syncAvg,\n            posAccuracy: posAccuracy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n          className: classes.backdrop,\n          open: connection ? !socket.connected : false,\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n            color: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Playground, \"WmYPbIKP4AKx1Duou+2gNNdzDxE=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = Playground;\nexport default Playground;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Playground\");","map":{"version":3,"sources":["/Users/qianjie/Desktop/cg4002-dashboard/frontend/src/pages/Playground.js"],"names":["React","useEffect","useState","Grid","Typography","makeStyles","CircularProgress","Button","Backdrop","io","styled","Modal","FormDialog","DancerCard","useStyles","theme","margin","spacing","paddingRight","backdrop","zIndex","drawer","color","heading","fontSize","letterSpacing","backgroundColor","top","Container","div","socket","transports","Playground","classes","danceMove","setDanceMove","danceMove2","setDanceMove2","danceMove3","setDanceMove3","finalDanceMove","setFinalDanceMove","finalPosition","setFinalPosition","accuracy","setAccuracy","accuracy2","setAccuracy2","accuracy3","setAccuracy3","overallAccuracy","setOverallAccuracy","posAccuracy","setPosAccuracy","finalSync","setFinalSync","syncAvg","setSyncAvg","showModal","setShowModal","openModal","prev","connection","setConnection","handleConnection","syncSum","syncListFloat","reduce","a","b","syncList","length","open","setOpen","handleClickOpen","handleClose","open2","setOpen2","handleClickOpen2","handleClose2","open3","setOpen3","handleClickOpen3","handleClose3","handleLeaderNameChange","e","console","log","target","value","localStorage","setItem","handleMember1NameChange","handleMember2NameChange","groupName","setGroupName","leaderName","setLeaderName","member1Name","setMember1Name","member2Name","setMember2Name","getItem","score","setScore","maxScore","setMaxScore","score2","setScore2","maxScore2","setMaxScore2","score3","setScore3","maxScore3","setMaxScore3","scorePos","setScorePos","maxScorePos","setMaxScorePos","correctness","setCorrectness","setSyncList","on","newData","oldList","off","handleKey","event","keyCode","prevScore","window","addEventListener","removeEventListener","map","x","parseFloat","marginTop","substring","toFixed","connected"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useEffect, useState } from 'react'\nimport { Grid, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Button from '@material-ui/core/Button'\nimport Backdrop from '@material-ui/core/Backdrop'\n\nimport io from 'socket.io-client'\nimport styled from 'styled-components'\n\nimport { Modal } from '../components/Modal/Modal'\nimport FormDialog from '../components/FormDialog/FormDialog'\nimport DancerCard from '../components/DancerCard/DancerCard'\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n    paddingRight: 33,\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  heading: {\n    fontSize: '4.5em',\n    letterSpacing: '-1px',\n    backgroundColor: '#503e9d',\n    top: '0px',\n    color: 'white',\n  },\n}))\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 50px;\n  bottom: 50px;\n`\n\nconst socket = io('http://localhost:3000', {\n  transports: ['websocket', 'polling'],\n})\n\nfunction Playground() {\n  const classes = useStyles()\n  const [danceMove, setDanceMove] = useState('Nothing')\n  const [danceMove2, setDanceMove2] = useState('Nothing')\n  const [danceMove3, setDanceMove3] = useState('Nothing')\n  const [finalDanceMove, setFinalDanceMove] = useState('nothing')\n  const [finalPosition, setFinalPosition] = useState('1 2 3')\n  const [accuracy, setAccuracy] = useState(0)\n  const [accuracy2, setAccuracy2] = useState(0)\n  const [accuracy3, setAccuracy3] = useState(0)\n  const [overallAccuracy, setOverallAccuracy] = useState(0)\n  const [posAccuracy, setPosAccuracy] = useState(0)\n  const [finalSync, setFinalSync] = useState('0')\n  const [syncAvg, setSyncAvg] = useState(0)\n  const [showModal, setShowModal] = useState(false)\n\n  const openModal = () => {\n    setShowModal((prev) => !prev)\n  }\n  const [connection, setConnection] = useState(false)\n\n  const handleConnection = () => {\n    if (connection) {\n      const syncSum = syncListFloat.reduce((a, b) => a + b, 0)\n      const syncAvg = syncSum / syncList.length || 0\n      setSyncAvg(syncAvg)\n    }\n    connection ? setConnection(false) : setConnection(true)\n    connection ? setShowModal(true) : setShowModal(false)\n  }\n\n  const [open, setOpen] = React.useState(false)\n  const handleClickOpen = () => {\n    setOpen(true)\n  }\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const [open2, setOpen2] = React.useState(false)\n  const handleClickOpen2 = () => {\n    setOpen2(true)\n  }\n  const handleClose2 = () => {\n    setOpen2(false)\n  }\n\n  const [open3, setOpen3] = React.useState(false)\n  const handleClickOpen3 = () => {\n    setOpen3(true)\n  }\n  const handleClose3 = () => {\n    setOpen3(false)\n  }\n\n  function handleLeaderNameChange(e) {\n    console.log(e.target.value)\n    localStorage.setItem('leaderName', e.target.value)\n  }\n\n  function handleMember1NameChange(e) {\n    console.log(e.target.value)\n    localStorage.setItem('member1Name', e.target.value)\n  }\n\n  function handleMember2NameChange(e) {\n    console.log(e.target.value)\n    localStorage.setItem('member2Name', e.target.value)\n  }\n\n  const [groupName, setGroupName] = useState('Group Name')\n  const [leaderName, setLeaderName] = useState('Leader Name')\n  const [member1Name, setMember1Name] = useState('Member 1 Name')\n  const [member2Name, setMember2Name] = useState('Member 2 Name')\n\n  useEffect(() => {\n    setGroupName(localStorage.getItem('groupName'))\n    setLeaderName(localStorage.getItem('leaderName'))\n    setMember1Name(localStorage.getItem('member1Name'))\n    setMember2Name(localStorage.getItem('member2Name'))\n  })\n\n  const [score, setScore] = useState(0)\n  const [maxScore, setMaxScore] = useState(0)\n  const [score2, setScore2] = useState(0)\n  const [maxScore2, setMaxScore2] = useState(0)\n  const [score3, setScore3] = useState(0)\n  const [maxScore3, setMaxScore3] = useState(0)\n  const [scorePos, setScorePos] = useState(0)\n  const [maxScorePos, setMaxScorePos] = useState(0)\n  const [correctness, setCorrectness] = useState(false)\n  const [syncList, setSyncList] = useState([])\n\n  useEffect(() => {\n    if (connection) {\n      setAccuracy(0)\n      setScore(0)\n      setScore2(0)\n      setScore3(0)\n      setScorePos(0)\n      setMaxScore(0)\n      setMaxScore2(0)\n      setMaxScore3(0)\n      setMaxScorePos(0)\n\n      socket.on('new_data', (newData) => {\n        setDanceMove(newData.danceMove)\n      })\n\n      socket.on('new_data2', (newData) => {\n        setDanceMove2(newData.danceMove)\n      })\n\n      socket.on('new_data3', (newData) => {\n        setDanceMove3(newData.danceMove)\n      })\n\n      socket.on('new_data4', (newData) => {\n        setFinalDanceMove(newData.finalDanceMove)\n        setFinalPosition(newData.finalPosition)\n        setFinalSync(newData.finalSync)\n        setSyncList((oldList) => [...oldList, newData.finalSync])\n      })\n    } else {\n      socket.off('new_data')\n      socket.off('new_data2')\n      socket.off('new_data3')\n      socket.off('new_data4')\n    }\n  }, [connection])\n\n  // useEffect(() => {\n  //   if (\n  //     // position1 === testLog.position1 &&\n  //     // position2 === testLog.position2 &&\n  //     // position3 === testLog.position3 &&\n\n  //     finalDanceMove === testLog.danceMove\n  //   ) {\n  //     setCorrectness(true)\n  //     if (score < 10) {\n  //       setScore((prevScore) => prevScore + 1)\n  //     }\n\n  //     console.log(score)\n  //   } else {\n  //     setCorrectness(false)\n  //   }\n  // }, [finalDanceMove])\n\n  useEffect(() => {\n    const handleKey = (event) => {\n      if (event.keyCode === 81 && connection) {\n        setCorrectness(true)\n        setScore((prevScore) => prevScore + 1)\n        setMaxScore((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 87 && connection) {\n        setCorrectness(true)\n        setScore2((prevScore) => prevScore + 1)\n        setMaxScore2((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 69 && connection) {\n        setCorrectness(true)\n        setScore3((prevScore) => prevScore + 1)\n        setMaxScore3((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 82 && connection) {\n        setCorrectness(true)\n        setScorePos((prevScore) => prevScore + 1)\n        setMaxScorePos((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 65 && connection) {\n        setCorrectness(false)\n        setMaxScore((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 83 && connection) {\n        setCorrectness(false)\n        setMaxScore2((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 68 && connection) {\n        setCorrectness(false)\n        setMaxScore3((prevScore) => prevScore + 1)\n      } else if (event.keyCode === 70 && connection) {\n        setCorrectness(false)\n        setMaxScorePos((prevScore) => prevScore + 1)\n      }\n\n      // if (event.keyCode === 16 && connection) {\n      //   setCorrectness(true)\n      //   setScore((prevScore) => prevScore + 1)\n      //   setMaxScore((prevScore) => prevScore + 1)\n      // } else if (event.keyCode === 88 && connection) {\n      //   setCorrectness(false)\n      //   setMaxScore((prevScore) => prevScore + 1)\n      // }\n    }\n    window.addEventListener('keydown', handleKey)\n\n    return () => {\n      window.removeEventListener('keydown', handleKey)\n    }\n  })\n\n  useEffect(() => {\n    setAccuracy(maxScore === 0 ? 0 : (score * 100) / maxScore)\n    setAccuracy2(maxScore2 === 0 ? 0 : (score2 * 100) / maxScore2)\n    setAccuracy3(maxScore3 === 0 ? 0 : (score3 * 100) / maxScore3)\n    setOverallAccuracy((accuracy + accuracy2 + accuracy3) / 3)\n    setPosAccuracy(maxScorePos === 0 ? 0 : (scorePos * 100) / maxScorePos)\n  })\n\n  let syncListFloat = syncList.map(function (x) {\n    return parseFloat(x, 10)\n  })\n\n  console.log(syncAvg)\n  return (\n    <>\n      <FormDialog\n        handleClickOpen={handleClickOpen}\n        handleClose={handleClose}\n        open={open}\n        setOpen={setOpen}\n        handleNameChange={handleMember1NameChange}\n      />\n\n      <FormDialog\n        handleClickOpen={handleClickOpen2}\n        handleClose={handleClose2}\n        open={open2}\n        setOpen={setOpen2}\n        handleNameChange={handleLeaderNameChange}\n      />\n\n      <FormDialog\n        handleClickOpen={handleClickOpen3}\n        handleClose={handleClose3}\n        open={open3}\n        setOpen={setOpen3}\n        handleNameChange={handleMember2NameChange}\n      />\n      <Grid container justify='center' style={{ marginTop: '-10px' }}>\n        <Grid item xs={12}>\n          <Typography variant='h3' align='center' className={classes.heading}>\n            {groupName}\n          </Typography>\n        </Grid>\n      </Grid>\n\n      <Grid container justify='center' data-flip-root-id='flip-root'>\n        {/* Display Dancer Cards start here */}\n        {/* 1 2 3 */}\n        {finalPosition === '1 2 3' && (\n          <>\n            {/* #1 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={leaderName}\n                position={finalPosition.substring(0, 1)}\n                userImage='NRfYKuSKs_o'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove}\n                role='Leader'\n                handleClickOpen={handleClickOpen2}\n                accuracy={accuracy.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #2 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member1Name}\n                position={finalPosition.substring(2, 3)}\n                userImage='OqQi3nCt4CA'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove2}\n                handleClickOpen={handleClickOpen}\n                accuracy={accuracy2.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #3 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member2Name}\n                position={finalPosition.substring(4)}\n                userImage='SFJz9q9EAZc'\n                // danceMove={finalDanceMove}\n                danceMove={danceMove3}\n                role='Member 2'\n                handleClickOpen={handleClickOpen3}\n                accuracy={accuracy3.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n          </>\n        )}\n        {/* 1 3 2 */}\n        {finalPosition === '1 3 2' && (\n          <>\n            {/* #1 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={leaderName}\n                position={finalPosition.substring(0, 1)}\n                userImage='NRfYKuSKs_o'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove}\n                role='Leader'\n                handleClickOpen={handleClickOpen2}\n                accuracy={accuracy.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #3 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member2Name}\n                position={finalPosition.substring(4)}\n                userImage='SFJz9q9EAZc'\n                // danceMove={finalDanceMove}\n                danceMove={danceMove3}\n                role='Member 2'\n                handleClickOpen={handleClickOpen3}\n                accuracy={accuracy3.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #2 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member1Name}\n                position={finalPosition.substring(2, 3)}\n                userImage='OqQi3nCt4CA'\n                // danceMove={finalDanceMove}\n                danceMove={danceMove2}\n                handleClickOpen={handleClickOpen}\n                accuracy={accuracy2.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n          </>\n        )}\n\n        {/* 2 1 3 */}\n        {finalPosition === '2 1 3' && (\n          <>\n            {/* #2 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member1Name}\n                position={finalPosition.substring(2, 3)}\n                userImage='OqQi3nCt4CA'\n                // danceMove={finalDanceMove}\n                danceMove={danceMove2}\n                handleClickOpen={handleClickOpen}\n                accuracy={accuracy2.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n            {/* #1 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={leaderName}\n                position={finalPosition.substring(0, 1)}\n                userImage='NRfYKuSKs_o'\n                // danceMove={finalDanceMove}\n                danceMove={danceMove}\n                role='Leader'\n                handleClickOpen={handleClickOpen2}\n                accuracy={accuracy.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #3 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member2Name}\n                position={finalPosition.substring(4)}\n                userImage='SFJz9q9EAZc'\n                // danceMove={finalDanceMove}\n                danceMove={danceMove3}\n                role='Member 2'\n                handleClickOpen={handleClickOpen3}\n                accuracy={accuracy3.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n          </>\n        )}\n\n        {/* 2 3 1 */}\n        {finalPosition === '2 3 1' && (\n          <>\n            {/* #2 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member1Name}\n                position={finalPosition.substring(2, 3)}\n                userImage='OqQi3nCt4CA'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove2}\n                handleClickOpen={handleClickOpen}\n                accuracy={accuracy2.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #3 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member2Name}\n                position={finalPosition.substring(4)}\n                userImage='SFJz9q9EAZc'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove3}\n                role='Member 2'\n                handleClickOpen={handleClickOpen3}\n                accuracy={accuracy3.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #1 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={leaderName}\n                position={finalPosition.substring(0, 1)}\n                userImage='NRfYKuSKs_o'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove}\n                role='Leader'\n                handleClickOpen={handleClickOpen2}\n                accuracy={accuracy.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n          </>\n        )}\n\n        {/* 3 1 2 */}\n        {finalPosition === '3 1 2' && (\n          <>\n            {/* #3 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member2Name}\n                position={finalPosition.substring(4)}\n                userImage='SFJz9q9EAZc'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove3}\n                role='Member 2'\n                handleClickOpen={handleClickOpen3}\n                accuracy={accuracy3.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #1 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={leaderName}\n                position={finalPosition.substring(0, 1)}\n                userImage='NRfYKuSKs_o'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove}\n                role='Leader'\n                handleClickOpen={handleClickOpen2}\n                accuracy={accuracy.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #2 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member1Name}\n                position={finalPosition.substring(2, 3)}\n                userImage='OqQi3nCt4CA'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove2}\n                handleClickOpen={handleClickOpen}\n                accuracy={accuracy2.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n          </>\n        )}\n\n        {/* 3 2 1 */}\n        {finalPosition === '3 2 1' && (\n          <>\n            {/* #3 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member2Name}\n                position={finalPosition.substring(4)}\n                userImage='SFJz9q9EAZc'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove3}\n                role='Member 2'\n                handleClickOpen={handleClickOpen3}\n                accuracy={accuracy3.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #2 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={member1Name}\n                position={finalPosition.substring(2, 3)}\n                userImage='OqQi3nCt4CA'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove2}\n                handleClickOpen={handleClickOpen}\n                accuracy={accuracy2.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n\n            {/* #1 */}\n            <Grid item data-flip-id='flipped'>\n              <DancerCard\n                name={leaderName}\n                position={finalPosition.substring(0, 1)}\n                userImage='NRfYKuSKs_o'\n                //danceMove={finalDanceMove}\n                danceMove={danceMove}\n                role='Leader'\n                handleClickOpen={handleClickOpen2}\n                accuracy={accuracy.toFixed(1)}\n                sync={finalSync}\n              />\n            </Grid>\n          </>\n        )}\n\n        {/* <Grid item>\n          <DancerCard\n            name={leaderName}\n            position={finalPosition.substring(0, 1)}\n            userImage='sibVwORYqs0'\n            danceMove={finalDanceMove}\n            role='Leader'\n            handleClickOpen={handleClickOpen2}\n            accuracy={accuracy.toFixed(1)}\n            sync={finalSync}\n          />\n        </Grid>\n        <Grid item>\n          <DancerCard\n            name={member1Name}\n            position={finalPosition.substring(2, 3)}\n            userImage='6CgkUjUl4og'\n            danceMove={finalDanceMove}\n            handleClickOpen={handleClickOpen}\n            accuracy={accuracy.toFixed(1)}\n            sync={finalSync}\n          />\n        </Grid>\n        <Grid item>\n          <DancerCard\n            name={member2Name}\n            position={finalPosition.substring(4)}\n            userImage='d2MSDujJl2g'\n            danceMove={finalDanceMove}\n            role='Member 2'\n            handleClickOpen={handleClickOpen3}\n            accuracy={accuracy.toFixed(1)}\n            sync={finalSync}\n          />\n        </Grid>\n        Display Dancer Cards end here */}\n      </Grid>\n\n      <Grid container justify='center'>\n        <Grid item>\n          <Button\n            variant='contained'\n            color='secondary'\n            onClick={handleConnection}\n            className={classes.margin}\n          >\n            {connection ? <p>END</p> : <p>START</p>}\n          </Button>\n\n          <Container>\n            <Modal\n              showModal={showModal}\n              setShowModal={setShowModal}\n              score={score}\n              setScore={setScore}\n              maxScore={maxScore}\n              setMaxScore={setMaxScore}\n              accuracy={overallAccuracy}\n              setSyncList={setSyncList}\n              syncList={syncList}\n              syncAvg={syncAvg}\n              posAccuracy={posAccuracy}\n            />\n          </Container>\n          <Backdrop\n            className={classes.backdrop}\n            open={connection ? !socket.connected : false}\n          >\n            <CircularProgress color='inherit' />\n          </Backdrop>\n        </Grid>\n      </Grid>\n    </>\n  )\n}\n\nexport default Playground\n"]},"metadata":{},"sourceType":"module"}